<app-loading *ngIf="loading"></app-loading>
<div class="container-fluid text-center border border-2 rounded-container card-menu p-4 h-100">
  <h1>Eventos de Grupo</h1>
  <div class=" p-5">

    <!-- Modal body -->
    <form (ngSubmit)="onCreateCalendar()" class="row" id="register-form">
      <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-3">
        <label for="formDate"></label>
        <input [(ngModel)]="formDate" type="date" name="formDate" id="formDate"
               class="form-control {{errorStyle}}" placeholder="Fecha del evento" required/>
      </div>
      <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-3">
        <label for="formName"></label>
        <input [(ngModel)]="formName" type="text" name="formName" id="formName" placeholder="Nombre del evento"
               class="form-control {{errorStyle}}" required/>
      </div>
      <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-3">
        <label for="formDescription"></label>
        <input [(ngModel)]="formDescription" type="text" name="formName" id="formDescription"
               placeholder="Descripción del evento"
               class="form-control {{errorStyle}}" required>

      </div>
      <div class="col-xs-12 col-lg-2 mt-3">
        <button name="signup" id="signup" class="btn btn-submit m-1 float-end" value="Registrar">Guardar
        </button>
      </div>
    </form>
    <div *ngIf="error">
      <app-error [error]="error" (click)="close()"></app-error>
    </div>

    <div *ngIf="success">
      <app-success [sucess]="success" (click)="close()"></app-success>
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-archivos mt-1">
      <thead class="bg-table">
      <tr>
        <th scope="col">Fecha</th>
        <th scope="col">Nombre</th>
        <th scope="col">Descripción</th>
        <th scope="col">Borrar</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let eve of eventos">
        <td>{{eve.eventDate| date:'dd/MM/yyyy'}}</td>
        <td>{{eve.name}}</td>
        <td>{{eve.description}}</td>
        <td>
          <button type="button" (click)="deleteEvent(eve.id)" class="btn btn-danger btn-circle"
                  aria-label="Close">X
          </button>
        </td>
      </tr>

      </tbody>
    </table>
  </div>
  <div>
    <app-publicidad></app-publicidad>
  </div>
</div>
